{"version":3,"sources":["../src/cli.ts"],"sourcesContent":["#!/usr/bin/env node\nimport { startMcpServer } from './mcp/server.js';\nimport { loadConfigFromPath } from './config/loader.js';\n\nfunction printHelp(): void {\n  console.log(\n    [\n      'chuna-ai - Expose any HTTP API as an MCP server (StdIO)',\n      '',\n      'Usage:',\n      '  chuna-ai serve -c <configPath>',\n      '',\n      'Options:',\n      '  -c, --config   Path to JSON config file or directory (split config)',\n      '  -h, --help     Show help',\n      '',\n    ].join('\\n'),\n  );\n}\n\nasync function main(): Promise<void> {\n  const args = process.argv.slice(2);\n  if (args.includes('-h') || args.includes('--help') || args.length === 0) {\n    printHelp();\n    process.exit(0);\n  }\n\n  const cmd = args[0];\n  if (cmd !== 'serve') {\n    console.error(`Unknown command: ${cmd}`);\n    printHelp();\n    process.exit(1);\n  }\n\n  const configFlagIndex = Math.max(args.indexOf('-c'), args.indexOf('--config'));\n  if (configFlagIndex === -1 || !args[configFlagIndex + 1]) {\n    console.error('Error: Missing -c/--config <path>');\n    process.exit(1);\n  }\n\n  const configPath = args[configFlagIndex + 1];\n  const config = await loadConfigFromPath(configPath);\n\n  await startMcpServer({ config });\n}\n\n// eslint-disable-next-line unicorn/prefer-top-level-await\nmain().catch((error) => {\n  console.error(error);\n  process.exit(1);\n});\n\n\n"],"mappings":";;;;;;;AAIA,SAAS,YAAkB;AACzB,UAAQ;AAAA,IACN;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,EAAE,KAAK,IAAI;AAAA,EACb;AACF;AAEA,eAAe,OAAsB;AACnC,QAAM,OAAO,QAAQ,KAAK,MAAM,CAAC;AACjC,MAAI,KAAK,SAAS,IAAI,KAAK,KAAK,SAAS,QAAQ,KAAK,KAAK,WAAW,GAAG;AACvE,cAAU;AACV,YAAQ,KAAK,CAAC;AAAA,EAChB;AAEA,QAAM,MAAM,KAAK,CAAC;AAClB,MAAI,QAAQ,SAAS;AACnB,YAAQ,MAAM,oBAAoB,GAAG,EAAE;AACvC,cAAU;AACV,YAAQ,KAAK,CAAC;AAAA,EAChB;AAEA,QAAM,kBAAkB,KAAK,IAAI,KAAK,QAAQ,IAAI,GAAG,KAAK,QAAQ,UAAU,CAAC;AAC7E,MAAI,oBAAoB,MAAM,CAAC,KAAK,kBAAkB,CAAC,GAAG;AACxD,YAAQ,MAAM,mCAAmC;AACjD,YAAQ,KAAK,CAAC;AAAA,EAChB;AAEA,QAAM,aAAa,KAAK,kBAAkB,CAAC;AAC3C,QAAM,SAAS,MAAM,mBAAmB,UAAU;AAElD,QAAM,eAAe,EAAE,OAAO,CAAC;AACjC;AAGA,KAAK,EAAE,MAAM,CAAC,UAAU;AACtB,UAAQ,MAAM,KAAK;AACnB,UAAQ,KAAK,CAAC;AAChB,CAAC;","names":[]}